javascript:{let e=e=>{gradeTable.querySelectorAll(".hidden").forEach(e=>e.classList.remove("hidden")),document.querySelectorAll(".term-check").forEach(t=>{if(!t.checked){t.nextSibling.textContent;for(e of gradeTable.getElementsByClassName(t.nextSibling.textContent))e.classList.add("hidden")}}),gradeTable.querySelectorAll(".subject-category").forEach(e=>{e.querySelectorAll("table tr").length<=e.querySelectorAll("table tr.hidden").length&&e.classList.add("hidden")})};document.body.insertAdjacentHTML("beforeEnd","<style>.hidden{display:none;}</style>"),document.querySelector("center>table:nth-of-type(3)").id="gradeTable",gradeTable.querySelectorAll(":scope>tbody>tr:not(:first-of-type)").forEach(e=>{e.classList.add("subject-category")});let t=new Set;gradeTable.querySelectorAll("tbody tbody>tr").forEach(e=>{let l=e.querySelector("td:nth-last-of-type(2)").textContent,d=e.querySelector("td:nth-last-of-type(1)").textContent;t.add(l),e.classList.add("subject",l+d)});let l=document.createElement("div");gradeTable.insertAdjacentElement("beforeBegin",l),Array.from(t).sort().forEach(t=>{[t+"前期",t+"後期"].forEach(t=>{let d=document.createElement("label");l.appendChild(d);let r=document.createElement("input");r.className="term-check",r.type="checkbox",r.checked=!0,r.addEventListener("change",e),d.appendChild(r),d.appendChild(document.createTextNode(t))})})}
